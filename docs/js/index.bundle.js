!function(){"use strict";(function(){const e=document.querySelector(".mobile-nav-btn"),t=document.querySelector(".mobile-nav"),o=document.querySelector(".nav-icon"),n=document.querySelectorAll(".mobile-nav a"),c=document.querySelector(".mobile-nav__list");function i(){t.classList.remove("mobile-nav--open"),o.classList.remove("nav-icon--active"),document.body.classList.remove("no-scroll")}function s(t){c.contains(t.target)||e.contains(t.target)||(i(),document.removeEventListener("click",s))}e.onclick=function(){t.classList.toggle("mobile-nav--open"),o.classList.toggle("nav-icon--active"),document.body.classList.toggle("no-scroll"),t.classList.contains("mobile-nav--open")&&setTimeout((()=>{document.addEventListener("click",s)}),0)},n.forEach((e=>{e.onclick=function(e){e.stopPropagation(),setTimeout((()=>{i(),document.removeEventListener("click",s)}),500)}}))})(),function(){const e=document.querySelectorAll(".nav-list-item"),t=document.querySelectorAll(".section"),o=document.querySelector(".header");function n(){return window.innerWidth<550?.1:window.innerWidth<768?.2:.5}const c=t=>{t.forEach((t=>{if(t.isIntersecting&&t.intersectionRatio>.1){e.forEach((e=>e.classList.remove("is-current")));const o=t.target.id,n=document.querySelectorAll(`.nav-list-item[href="#${o}"]`);n&&n.forEach((e=>{e.classList.add("is-current")})),function(e){return e.target.getBoundingClientRect().bottom<=window.innerHeight}(t)&&console.log("Последняя секция на экране!")}}))},i=new IntersectionObserver(c,{threshold:n()});t.forEach((e=>i.observe(e))),e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const n=e.getAttribute("href").replace("#",""),c=document.getElementById(n);if(c){const e=o?o.clientHeight:0,t=c.offsetTop,n=window.scrollY<t?t:t-e;window.scrollTo({top:n,behavior:"smooth"})}}))})),window.addEventListener("resize",(()=>{i.disconnect();const e=n(),o=new IntersectionObserver(c,{threshold:e});t.forEach((e=>o.observe(e)))}))}(),function(){const e=document.querySelector(".header");if(!e)return;let t=e.clientHeight,o=window.scrollY;document.querySelector("body")&&s();let n=!1,c=!1;const i=function(e,t){let o,n;return function(){const t=this,c=arguments;n?(clearTimeout(o),o=setTimeout((function(){Date.now()-n>=100&&(e.apply(t,c),n=Date.now())}),100-(Date.now()-n))):(e.apply(t,c),n=Date.now())}}((()=>{const i=window.scrollY;i>50?(c||(e.classList.add("header__fixed"),c=!0),i>t+100&&i>o?n||(e.classList.add("hidden-header"),n=!0):n&&(e.classList.remove("hidden-header"),n=!1)):c&&(e.classList.remove("header__fixed"),c=!1),o=i}));function s(){const t=e.offsetHeight;document.body.style.marginTop=`${t}px`}window.addEventListener("scroll",i),window.onload=s,window.onresize=s}(),function(){const e=document.querySelectorAll(".accordion__trigger");if(e.length>0){const t=e[0],o=t.closest(".accordion").lastElementChild;t.classList.add("accordion__trigger--active"),o.style.maxHeight="100%"}e.forEach((t=>t.addEventListener("click",(t=>{const o=t.target.closest(".accordion"),n=o.firstElementChild,c=o.lastElementChild;e.forEach((e=>{e.classList.contains("accordion__trigger--active")&&(e.classList.remove("accordion__trigger--active"),e.nextElementSibling.style.maxHeight=0)})),n.classList.toggle("accordion__trigger--active"),n.classList.contains("accordion__trigger--active")?c.style.maxHeight=c.scrollHeight+"px":c.style.maxHeight=0}))))}(),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".popup"),t=document.querySelectorAll(".btn");console.log("test22");const o=document.querySelector(".popup__close"),n=document.querySelector(".popup__content");t.forEach((t=>{t.addEventListener("click",(()=>{e.classList.toggle("popup--active"),n.classList.toggle("popup__content--active")}))})),o.addEventListener("click",(()=>{e.classList.toggle("popup--active"),n.classList.toggle("popup__content--active")})),e.addEventListener("click",(t=>{t.target===e&&(e.classList.toggle("popup--active"),n.classList.toggle("popup__content--active"))}))}))}();